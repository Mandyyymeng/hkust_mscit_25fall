nohup: ignoring input
2025-11-02 09:50:13.410 | INFO     | __main__:<module>:562 - ==================================================
2025-11-02 09:50:13.410 | INFO     | __main__:<module>:563 - Starting Step 1: LSH Index Construction
2025-11-02 09:50:13.582 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database financial already exists, skipping...
2025-11-02 09:50:13.650 | WARNING  | alphasql.database.utils:load_foreign_keys:90 - Target column is None and has been fixed by primary keys of target table customers - CustomerID, source table: yearmonth, source column: CustomerID
2025-11-02 09:50:13.650 | WARNING  | alphasql.database.utils:load_foreign_keys:90 - Target column is None and has been fixed by primary keys of target table customers - CustomerID, source table: yearmonth, source column: CustomerID
2025-11-02 09:50:13.661 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database debit_card_specializing already exists, skipping...
2025-11-02 09:50:14.004 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database formula_1 already exists, skipping...
2025-11-02 09:50:14.096 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database california_schools already exists, skipping...
2025-11-02 09:50:14.142 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database toxicology already exists, skipping...
2025-11-02 09:50:14.332 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database student_club already exists, skipping...
2025-11-02 09:50:15.390 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database card_games already exists, skipping...
2025-11-02 09:50:15.605 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database superhero already exists, skipping...
2025-11-02 09:50:15.772 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database codebase_community already exists, skipping...
2025-11-02 09:50:16.128 | WARNING  | alphasql.database.utils:load_foreign_keys:90 - Target column is None and has been fixed by primary keys of target table League - id, source table: Match, source column: league_id
2025-11-02 09:50:16.129 | WARNING  | alphasql.database.utils:load_foreign_keys:90 - Target column is None and has been fixed by primary keys of target table Country - id, source table: Match, source column: country_id
2025-11-02 09:50:16.448 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database european_football_2 already exists, skipping...
2025-11-02 09:50:16.489 | INFO     | __main__:preprocess_lsh_index_for_one_db:112 - LSH index for database thrombosis_prediction already exists, skipping...
2025-11-02 09:50:16.492 | INFO     | __main__:preprocess_lsh_index:123 - Preprocessed LSH index for 11 databases
2025-11-02 09:50:16.493 | INFO     | __main__:<module>:567 - Step 1 completed - LSH Index Construction: 3.08 seconds
2025-11-02 09:50:16.493 | INFO     | __main__:<module>:570 - ==================================================
2025-11-02 09:50:16.493 | INFO     | __main__:<module>:571 - Starting Step 2: Keyword Extraction and Value Retrieval
✅ 模型 nomic-embed-text 验证成功
ALL IDS: ['financial', 'debit_card_specializing', 'formula_1', 'california_schools', 'toxicology', 'student_club', 'card_games', 'superhero', 'codebase_community', 'european_football_2', 'thrombosis_prediction']
Getting relevant values for all tasks:   0%|          | 0/300 [00:00<?, ?it/s]Getting relevant values for all tasks:   0%|          | 1/300 [01:51<9:17:38, 111.90s/it]Getting relevant values for all tasks:   1%|          | 3/300 [01:53<2:26:03, 29.51s/it] Getting relevant values for all tasks:   6%|▌         | 17/300 [02:11<21:54,  4.65s/it] Getting relevant values for all tasks:   6%|▋         | 19/300 [02:20<21:45,  4.65s/it]Getting relevant values for all tasks:   7%|▋         | 22/300 [02:21<16:40,  3.60s/it]Getting relevant values for all tasks:   9%|▉         | 28/300 [20:54<5:56:47, 78.70s/it]Getting relevant values for all tasks:  10%|█         | 30/300 [21:12<5:02:39, 67.26s/it]Getting relevant values for all tasks:  11%|█         | 32/300 [21:26<4:09:18, 55.82s/it]Getting relevant values for all tasks:  12%|█▏        | 37/300 [36:07<7:37:53, 104.46s/it]/ssddata/zzhanglc/Alpha-SQL/alphasql/runner/preprocessor.py:273: RuntimeWarning: invalid value encountered in scalar divide
  cosine_similarity = lambda x, y: np.dot(x, y) / (np.linalg.norm(x) * np.linalg.norm(y))
Getting relevant values for all tasks:  13%|█▎        | 38/300 [36:31<6:59:48, 96.14s/it] Getting relevant values for all tasks:  13%|█▎        | 40/300 [36:32<5:21:42, 74.24s/it]Getting relevant values for all tasks:  15%|█▌        | 45/300 [36:32<2:53:55, 40.92s/it]Getting relevant values for all tasks:  19%|█▊        | 56/300 [37:19<1:19:15, 19.49s/it]Getting relevant values for all tasks:  22%|██▏       | 65/300 [40:57<1:23:53, 21.42s/it]Getting relevant values for all tasks:  22%|██▏       | 66/300 [40:59<1:18:52, 20.22s/it]Getting relevant values for all tasks:  24%|██▍       | 72/300 [41:04<51:41, 13.60s/it]  Getting relevant values for all tasks:  28%|██▊       | 83/300 [41:07<26:26,  7.31s/it]Getting relevant values for all tasks:  28%|██▊       | 84/300 [41:08<24:53,  6.91s/it]Getting relevant values for all tasks:  29%|██▊       | 86/300 [41:19<24:04,  6.75s/it]Getting relevant values for all tasks:  34%|███▎      | 101/300 [41:25<09:42,  2.93s/it]Getting relevant values for all tasks:  35%|███▍      | 104/300 [41:36<09:46,  2.99s/it]Getting relevant values for all tasks:  43%|████▎     | 128/300 [41:36<03:14,  1.13s/it]Getting relevant values for all tasks:  43%|████▎     | 130/300 [41:40<03:19,  1.17s/it]Getting relevant values for all tasks:  44%|████▎     | 131/300 [41:40<03:13,  1.14s/it]Getting relevant values for all tasks:  45%|████▌     | 136/300 [41:41<02:30,  1.09it/s]Getting relevant values for all tasks:  46%|████▌     | 137/300 [41:43<02:38,  1.03it/s]Getting relevant values for all tasks:  46%|████▌     | 138/300 [41:45<02:49,  1.05s/it]Getting relevant values for all tasks:  46%|████▋     | 139/300 [41:46<02:42,  1.01s/it]Getting relevant values for all tasks:  47%|████▋     | 141/300 [41:48<02:43,  1.03s/it]Getting relevant values for all tasks:  51%|█████     | 152/300 [41:48<00:54,  2.71it/s]Getting relevant values for all tasks:  51%|█████▏    | 154/300 [41:49<00:55,  2.63it/s]Getting relevant values for all tasks:  52%|█████▏    | 156/300 [41:50<01:00,  2.37it/s]Getting relevant values for all tasks:  52%|█████▏    | 157/300 [41:51<01:00,  2.36it/s]Getting relevant values for all tasks:  53%|█████▎    | 158/300 [41:51<00:56,  2.51it/s]Getting relevant values for all tasks:  53%|█████▎    | 160/300 [41:51<00:52,  2.65it/s]Getting relevant values for all tasks:  54%|█████▍    | 163/300 [41:52<00:48,  2.81it/s]Getting relevant values for all tasks:  56%|█████▌    | 167/300 [41:53<00:40,  3.30it/s]Getting relevant values for all tasks:  57%|█████▋    | 172/300 [41:53<00:23,  5.46it/s]Getting relevant values for all tasks:  58%|█████▊    | 174/300 [41:54<00:28,  4.39it/s]Getting relevant values for all tasks:  59%|█████▉    | 177/300 [41:55<00:33,  3.67it/s]Getting relevant values for all tasks:  59%|█████▉    | 178/300 [41:57<00:52,  2.31it/s]Getting relevant values for all tasks:  61%|██████    | 182/300 [41:57<00:32,  3.68it/s]Getting relevant values for all tasks:  61%|██████▏   | 184/300 [42:00<00:56,  2.07it/s]Getting relevant values for all tasks:  65%|██████▌   | 196/300 [42:01<00:22,  4.55it/s]Getting relevant values for all tasks:  66%|██████▌   | 197/300 [42:01<00:24,  4.24it/s]Getting relevant values for all tasks:  67%|██████▋   | 201/300 [42:03<00:31,  3.15it/s]Getting relevant values for all tasks:  67%|██████▋   | 202/300 [42:08<01:18,  1.25it/s]Getting relevant values for all tasks:  71%|███████▏  | 214/300 [42:10<00:33,  2.57it/s]Getting relevant values for all tasks:  72%|███████▏  | 215/300 [42:13<00:50,  1.70it/s]Getting relevant values for all tasks:  73%|███████▎  | 219/300 [42:16<00:50,  1.60it/s]Getting relevant values for all tasks:  75%|███████▌  | 226/300 [42:17<00:31,  2.36it/s]Getting relevant values for all tasks:  77%|███████▋  | 230/300 [42:19<00:29,  2.37it/s]Getting relevant values for all tasks:  78%|███████▊  | 233/300 [42:21<00:29,  2.24it/s]Getting relevant values for all tasks:  78%|███████▊  | 235/300 [42:22<00:33,  1.92it/s]Getting relevant values for all tasks:  79%|███████▉  | 237/300 [42:23<00:30,  2.05it/s]Getting relevant values for all tasks:  80%|███████▉  | 239/300 [42:27<00:51,  1.18it/s]Getting relevant values for all tasks:  85%|████████▍ | 254/300 [42:30<00:17,  2.62it/s]Getting relevant values for all tasks:  86%|████████▌ | 257/300 [42:30<00:14,  2.94it/s]Getting relevant values for all tasks:  86%|████████▌ | 258/300 [42:32<00:18,  2.22it/s]Getting relevant values for all tasks:  88%|████████▊ | 263/300 [42:32<00:11,  3.22it/s]Getting relevant values for all tasks:  88%|████████▊ | 264/300 [42:33<00:11,  3.24it/s]Getting relevant values for all tasks:  88%|████████▊ | 265/300 [42:34<00:13,  2.59it/s]Getting relevant values for all tasks:  89%|████████▉ | 267/300 [42:36<00:17,  1.90it/s]Getting relevant values for all tasks:  90%|█████████ | 270/300 [42:37<00:14,  2.10it/s]Getting relevant values for all tasks:  90%|█████████ | 271/300 [42:37<00:14,  2.03it/s]Getting relevant values for all tasks:  91%|█████████ | 273/300 [42:39<00:14,  1.90it/s]Getting relevant values for all tasks:  92%|█████████▏| 275/300 [42:39<00:09,  2.54it/s]Getting relevant values for all tasks:  93%|█████████▎| 279/300 [42:40<00:06,  3.17it/s]Getting relevant values for all tasks:  93%|█████████▎| 280/300 [42:44<00:16,  1.18it/s]Getting relevant values for all tasks:  95%|█████████▌| 286/300 [42:44<00:05,  2.35it/s]Getting relevant values for all tasks:  96%|█████████▌| 288/300 [42:45<00:05,  2.24it/s]Getting relevant values for all tasks:  96%|█████████▋| 289/300 [42:51<00:12,  1.15s/it]Getting relevant values for all tasks:  98%|█████████▊| 294/300 [42:52<00:04,  1.48it/s]Getting relevant values for all tasks: 100%|██████████| 300/300 [42:52<00:00,  8.58s/it]
2025-11-02 10:33:09.038 | INFO     | __main__:<module>:575 - Step 2 completed - Keyword Extraction and Value Retrieval: 2572.54 seconds
2025-11-02 10:33:09.038 | INFO     | __main__:<module>:578 - ==================================================
2025-11-02 10:33:09.038 | INFO     | __main__:<module>:579 - Starting Step 3: Schema Context Preprocessing
Preprocessing schema context for all tasks: 0it [00:00, ?it/s]Preprocessing schema context for all tasks: 12it [00:00, 117.37it/s]Preprocessing schema context for all tasks: 61it [00:00, 331.40it/s]Preprocessing schema context for all tasks: 95it [00:00, 310.16it/s]Preprocessing schema context for all tasks: 140it [00:00, 359.91it/s]Preprocessing schema context for all tasks: 177it [00:00, 350.32it/s]Preprocessing schema context for all tasks: 239it [00:00, 437.31it/s]Preprocessing schema context for all tasks: 284it [00:00, 392.69it/s]Preprocessing schema context for all tasks: 300it [00:00, 376.45it/s]
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:583 - Step 3 completed - Schema Context Preprocessing: 0.88 seconds
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:587 - ==================================================
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:588 - Preprocessing pipeline completed!
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:589 - Total time: 2576.51 seconds
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:590 - Step-wise timing details:
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:591 -   - LSH Index Construction: 3.08 seconds
2025-11-02 10:33:09.914 | INFO     | __main__:<module>:592 -   - Keyword Extraction and Value Retrieval: 2572.54 seconds
2025-11-02 10:33:09.915 | INFO     | __main__:<module>:593 -   - Schema Context Preprocessing: 0.88 seconds
2025-11-02 10:33:09.915 | INFO     | __main__:<module>:594 - ==================================================
2025-11-02 10:33:09.915 | INFO     | __main__:<module>:613 - Timing information saved to: preprocessing_timing.json
script/preprocess.sh: 14: samples: not found
